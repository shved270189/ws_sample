!function(){"use strict";angular.module("wsSample",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap"])}(),function(){"use strict";function e(){var e=this;this.newMessage="",this.userName="",this.messages=[{user:"Ivan",text:"Hello!"},{user:"Ben",text:"Hello, Ivan!"}],this.dispatcher=new WebSocketRails("chiwssample.herokuapp.com/websocket"),this.chat_channel=this.dispatcher.subscribe("chat"),this.chat_channel.bind("messages.create",function(t){e.messages.push(t)})}angular.module("wsSample").controller("MainController",e),e.prototype.sendMessage=function(){var e={user:this.userName,text:this.newMessage};this.chat_channel.trigger("messages.create",e),this._resetMessage()},e.prototype._resetMessage=function(){this.newMessage=""}}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("wsSample").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),t.otherwise("/")}angular.module("wsSample").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("wsSample").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}angular.module("wsSample").config(e),e.$inject=["$logProvider","toastr"]}(),angular.module("wsSample").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="container"><form novalidate="" ng-submit="main.sendMessage()"><div class="form-group"><label for="userName">Name</label> <input type="text" class="form-control" id="userName" placeholder="Name" ng-model="main.userName"></div><div class="form-group"><label for="newMessage">Message</label> <input type="text" class="form-control" id="newMessage" placeholder="Message" ng-model="main.newMessage"></div><button type="submit" class="btn btn-default">Submit</button></form><hr><div ng-repeat="message in main.messages | orderBy:\'-\'"><div class="alert alert-info" role="alert"><strong>{{message.user}}:</strong> {{message.text}}</div></div></div>')}]);